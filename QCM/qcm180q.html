<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>QCM final 180 Questions0</title>
<style>
:root{
  --bg:#0f172a;
  --card:#1e293b;
  --text:#e5e7eb;
  --muted:#9ca3af;
  --ok:#22c55e;
  --bof:#fbbf24;
  --bad:#ef4444;
  --btn:#2563eb;
  --surface:#0b1223;
  --border:#334155;
}
/* ===== Palette inspir√©e du logo Sabena technics ===== */
:root[data-theme="light"]{
  --bg:#f5f7fa;
  --card:#ffffff;
  --text:#111827;           /* Texte principal : noir anthracite */
  --muted:#374151;          /* Sous-titres : gris fonc√© */
  --ok:#007A33;             /* Vert Sabena (validation) */
  --bof:#FFD200;            /* Jaune Sabena */
  --bad:#C1121F;            /* Rouge profond (erreur) */
  --btn:#003366;            /* Bleu Sabena */
  --surface:#f0f4f8;        /* Fond clair homog√®ne */
  --border:#cbd5e1;         /* Bordures neutres */
}

:root[data-theme="light"] .opt{
  color: var(--text);
  background:#ffffff;
  border-color: var(--border);
}
:root[data-theme="light"] .opt:hover,
:root[data-theme="light"] .opt:focus{
  outline: 2px solid var(--btn);
  background: color-mix(in srgb, var(--btn) 6%, #fff);
}
:root[data-theme="light"] .opt.correct{
  outline-color: var(--ok);
  background: color-mix(in srgb, var(--ok) 15%, #fff);
  color: var(--text);
}
:root[data-theme="light"] .opt.wrong{
  outline-color: var(--bad);
  background: color-mix(in srgb, var(--bad) 10%, #fff);
  color: var(--text);
}
:root[data-theme="light"] .badge-status.badge-ok{ color: var(--ok); }
:root[data-theme="light"] .badge-status.badge-bof{ color: var(--bof); }
:root[data-theme="light"] .badge-status.badge-bad{ color: var(--bad); }

:root[data-theme="light"] button{ background: var(--btn); color: #fff; }
:root[data-theme="light"] .btn-gray{ background: var(--surface); color: var(--text); }

html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,Segoe UI,Roboto,sans-serif;
  padding:16px;
  display:flex;
  justify-content:center;   /* ‚úÖ centre horizontalement */
  align-items:flex-start;    /* garde le haut visible (√©vite centrage vertical complet) */
  min-height:100vh;          /* occupe toute la hauteur de la fen√™tre */
}

.card{background:var(--card);border:1px solid var(--border);border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.15);padding:16px}
.main{
  width:100%;
  max-width:900px;
}

.side{width:340px;min-width:300px;max-height:90vh;overflow:auto;display:flex;flex-direction:column;gap:12px}
h1{margin:0 0 10px}
.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
select,input,button{padding:8px;border-radius:10px;border:1px solid var(--border);background:var(--surface);color:var(--text)}
button{cursor:pointer;background:var(--btn);color:#fff;border:none}
.btn-gray{background:var(--surface);color:var(--text)}
.pill{background:var(--surface);border:1px solid var(--border);border-radius:999px;padding:6px 10px;display:inline-flex;gap:6px;align-items:center}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.opt{
  background:var(--surface);border:1px solid var(--btn);border-radius:10px;
  padding:14px 16px;cursor:pointer;text-align:left;font-size:1.05rem;font-weight:600;
  transition:transform .12s ease
}
.opt:hover{transform:scale(1.02)}
.opt.correct{outline:2px solid var(--ok);background:rgba(34,197,94,.12)}
.opt.wrong{outline:2px solid var(--bad);background:rgba(239,68,68,.12)}
.muted{color:var(--muted);font-size:.92rem}
.timer{background:var(--surface);border:1px solid var(--border);padding:6px 10px;border-radius:999px}
.badge{background:var(--surface);border:1px solid var(--border);border-radius:999px;padding:2px 8px;font-size:.8rem}
.badge-status{margin-left:8px;padding:2px 10px;border-radius:999px;font-size:.9rem;border:1px solid var(--border);display:none}
.badge-ok{color:var(--ok)}
.badge-bof{color:var(--bof)}
.badge-bad{color:var(--bad)}
table{width:100%;border-collapse:collapse}
th,td{padding:8px;border-bottom:1px solid var(--border);text-align:left}
th{color:var(--muted)}
.log{background:var(--surface);padding:10px;border-radius:8px;height:300px;overflow:auto}
.ok{color:var(--ok)} .bof{color:var(--bof)} .bad{color:var(--bad)}
.hl{font-weight:700;text-decoration:underline}
.progressbar{height:8px;background:var(--surface);border:1px solid var(--border);border-radius:999px;overflow:hidden}
.progressbar > div{height:100%;background:var(--btn);width:0%}
.svg-wrap{background:var(--surface);border:1px solid var(--border);border-radius:10px;padding:8px}
hr{border:none;border-top:1px solid var(--border);margin:12px 0}
.small{font-size:.9rem}
@media (max-width:640px){
  .grid{grid-template-columns:1fr}
}

</style>
</head>
<body>
  
  <div class="card main">
    <div class="row" style="justify-content:space-between">
      <h1>‚úàÔ∏è QCM Final 180Q</h1>
      
      <button id="themeToggle" class="btn-gray" title="Changer de th√®me">üåô/‚òÄÔ∏è</button>
    <button id="homeBtn" class="btn-gray" title="Retour √† l'accueil">üè† Accueil</button>
    </div>
    <script>
    document.getElementById("homeBtn").addEventListener("click", () => {
    window.location.href = "https://adpmt.github.io/QCM-ADPMT/";
    });
    </script>
    
    <!-- Outils -->
    <div class="row">
      <div style="min-width:160px">
        <label class="small">Pseudo</label>
        <input id="pseudoInput" placeholder="Ton nom" maxlength="20" />
      </div>

      <div class="pill"><span>‚è±Ô∏è</span><b id="timer">0</b>s</div>
      <div class="pill">Score: <b id="score">0</b></div>
    </div>

    <!-- Question -->
    <div class="card" style="margin-top:10px">
      <div class="row" style="justify-content:space-between;align-items:center">
        <div style="font-size:1.2rem;font-weight:700">
          <span id="progressTxt">Question 0/0</span>
          <span id="prevBadge" class="badge-status">OK</span>
        </div>
        <div class="progressbar" style="flex:1;max-width:360px">
          <div id="progressBar"></div>
        </div>
      </div>
      <p id="question" style="font-size:1.25rem;font-weight:700;margin:8px 0">Clique sur D√©marrer</p>
      <div id="choices" class="grid"></div>
      <div id="feedback" class="muted" style="min-height:28px;margin-top:6px"></div>

      <div class="row" style="margin-top:8px">
        <button id="startBtn">D√©marrer</button>
        <button id="pauseBtn" class="btn-gray" disabled>Pause</button>
        <button id="stopBtn" class="btn-gray" disabled>Stop</button>
        <button id="resumeBtn" class="btn-gray" style="display:none">Reprendre</button>
        <button id="showSummaryBtn" class="btn"style="display:none;margin-top:8px">  üìä Afficher le r√©sum√©</button>
      </div>
    </div>

    <!-- R√©sum√© -->
    <div id="summaryCard" class="card" style="margin-top:10px;display:block">
      <h3 style="margin:0 0 6px">R√©sum√©</h3>
      <div id="summaryStats" class="muted"></div>
      <div id="summaryList" class="muted" style="height:220px;overflow:auto;margin-top:8px"></div>
      <div class="row" style="margin-top:8px">
        <button id="printSummary" class="btn-gray">Imprimer</button>
        <button id="closeSummary" class="btn-gray">Fermer</button>
      </div>
    </div>

<div id="scoreBoardCard" class="card" style="margin-top:10px">
  <h3 style="margin:0 0 6px">Tableau des scores</h3>
  <div class="muted small">Affiche les 10 derniers (stocke 30 max).</div>
  <table>
    <thead>
      <tr><th>Pseudo</th><th>Score</th><th>%</th><th>Date</th></tr>
    </thead>
    <tbody id="scoreTableBody"></tbody>
  </table>
  <div class="row" style="margin-top:6px">
    <button id="clearScores" class="btn-gray">Effacer</button>
  </div>
</div>

    <!-- Progression -->
    <div class="card" style="margin-top:10px">
      <h3 style="margin:0 0 6px">üìà Progression</h3>
      <div class="svg-wrap"><svg id="chart" viewBox="0 0 320 120" width="100%" height="120" aria-label="Courbe des %"></svg></div>
    </div>
  </div>



<script>
// ====== Helpers
const $ = s => document.querySelector(s);
const pad2 = n => String(n).padStart(2,'0');
const nowStamp = () => { const d=new Date(); return `${pad2(d.getDate())}/${pad2(d.getMonth()+1)}/${String(d.getFullYear()).slice(-2)} ${pad2(d.getHours())}:${pad2(d.getMinutes())}`; };
function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]] } return a; }

// ====== Th√®me
const THEME_KEY='ata_theme';
(function applyTheme(){
  const t = localStorage.getItem(THEME_KEY)||'dark';
  document.documentElement.setAttribute('data-theme', t==='light'?'light':'dark');
})();
$('#themeToggle').onclick=()=>{
  const cur=document.documentElement.getAttribute('data-theme')==='light'?'light':'dark';
  const nxt=cur==='light'?'dark':'light';
  document.documentElement.setAttribute('data-theme',nxt);
  localStorage.setItem(THEME_KEY,nxt);
};

// ====== Storage keys
const LS_SCORES='qcm180_scores_v2';
const LS_PSEUDO='qcm180_pseudo_v2';
const LS_SNAPSHOT='qcm180_snapshot_v1';

// ====== √âtat
let running=false, paused=false, i=0, score=0;
let questionOrder=[], filteredQuestions=[];
let timeLeft=0, tickHandle=null, mode='TRAIN', perQ=15;
let answersLog=[];

// ====== DOM
const qEl=$('#question'), choicesEl=$('#choices'), feedbackEl=$('#feedback');
const timerEl=$('#timer'), scoreEl=$('#score'), progressTxt=$('#progressTxt'), progressBar=$('#progressBar');
const pseudoInput=$('#pseudoInput'); pseudoInput.value=localStorage.getItem(LS_PSEUDO)||'';
pseudoInput.addEventListener('change',()=>localStorage.setItem(LS_PSEUDO,pseudoInput.value.trim()));

// ====== Questions (exemple) ‚Äî remplace/compl√®te par ta liste compl√®te si besoin
let QUESTIONS = [
// chapitre SYST√àMES
{ "q": "Sur un avion transport, un circuit hydraulique ¬´ 3000 psi ¬ª correspond approximativement √† :", "choices": ["210 bar", "250 bar", "280 bar", "310 bar"], "answer": 0 },
{ "q": "La fonction principale d‚Äôun accumulateur hydraulique est :", "choices": ["Amortir les pulsations et fournir un d√©bit de pointe", "Maintenir la temp√©rature du fluide", "Assurer la filtration fine du circuit", "Cr√©er une d√©pression dans la ligne retour"], "answer": 0 },
{ "q": "Un accumulateur √† vessie est typiquement pr√©charg√© avec :", "choices": ["Azote (N2)", "Oxyg√®ne (O2)", "Air ambiant", "H√©lium (He)"], "answer": 0 },
{ "q": "Une pompe hydraulique entra√Æn√©e moteur (EDP) est g√©n√©ralement :", "choices": ["√Ä cylindr√©e variable et r√©gul√©e en pression", "√Ä cylindr√©e fixe et r√©gul√©e en d√©bit", "√Ä turbine et r√©gul√©e en temp√©rature", "√Ä engrenages et r√©gul√©e en cavitation"], "answer": 0 },
{ "q": "Dans un syst√®me hydraulique r√©gul√©, la ¬´ case drain line ¬ª d‚Äôune pompe sert surtout √† :", "choices": ["√âvacuer les fuites internes et lubrifier/refroidir la pompe", "Isoler la pompe en cas de surpression", "Assurer le retour HP vers le r√©servoir", "Purger l‚Äôair dissous du fluide"], "answer": 0 },
{ "q": "La fonction typique d‚Äôun Pressure Relief Valve (PRV) est :", "choices": ["Prot√©ger le circuit en limitant la pression maxi", "Maintenir une pression constante en modulant le d√©bit pompe", "Emp√™cher l‚Äôinversion de sens d‚Äô√©coulement", "Filtrer les particules ferreuses"], "answer": 0 },
{ "q": "Un clapet anti-retour (check valve) est destin√© √† :", "choices": ["Autoriser l‚Äô√©coulement dans un seul sens", "Limiter la pression de service", "R√©guler la temp√©rature fluide", "S√©parer deux circuits sans √©change de pression"], "answer": 0 },
{ "q": "Une vanne de priorisation (priority valve) a pour r√¥le :", "choices": ["Assurer l‚Äôalimentation des consommateurs critiques en cas de d√©bit limit√©", "Emp√™cher la cavitation en aspiration pompe", "√âquilibrer automatiquement les r√©servoirs carburant", "D√©river le retour hydraulique vers un √©changeur thermique"], "answer": 0 },
{ "q": "Un filtre hydraulique avec indicateur ¬´ ŒîP ¬ª signale :", "choices": ["Une perte de charge √©lev√©e √† travers le filtre (colmatage)", "Une temp√©rature fluide trop basse", "Une surpression en sortie de pompe", "Une contamination uniquement ferreuse"], "answer": 0 },
{ "q": "Une soupape de by-pass de filtre hydraulique sert √† :", "choices": ["Assurer la continuit√© d‚Äôalimentation si le filtre est colmat√©", "Renvoyer le fluide directement au r√©servoir en permanence", "Augmenter la finesse de filtration", "Maintenir la pression √† 3000 psi"], "answer": 0 },
{ "q": "Sur un circuit hydraulique, la cavitation appara√Æt le plus souvent :", "choices": ["√Ä l‚Äôaspiration pompe (pression trop faible / pertes de charge)", "En aval d‚Äôun PRV (pression trop √©lev√©e)", "Uniquement dans la ligne retour", "Apr√®s l‚Äô√©changeur thermique (temp√©rature trop basse)"], "answer": 0 },
{ "q": "Une RAT (Ram Air Turbine) sur avion transport est con√ßue pour :", "choices": ["Fournir une puissance de secours (hydraulique et/ou √©lectrique) en cas de pertes majeures", "Augmenter la vitesse en croisi√®re", "Remplacer l‚ÄôAPU au sol", "Maintenir la temp√©rature carburant"], "answer": 0 },
{ "q": "Un PTU (Power Transfer Unit) permet :", "choices": ["De transf√©rer de la puissance hydraulique entre deux circuits sans m√©lange de fluide", "De transf√©rer du fluide hydraulique d‚Äôun r√©servoir √† l‚Äôautre", "De pressuriser la cabine en secours", "D‚Äôassister le d√©marrage moteur par air"], "answer": 0 },
{ "q": "Concernant Skydrol, l‚Äôaffirmation correcte est :", "choices": ["Fluide phosphate ester : agressif pour certaines peintures/peaux, joints sp√©cifiques requis", "Fluide min√©ral : compatible universellement avec tous joints", "Fluide glycol : utilis√© principalement dans les circuits carburant", "Fluide silicone : d√©di√© aux freins carbone uniquement"], "answer": 0 },

{ "q": "La fonction principale des ¬´ boost pumps ¬ª carburant est :", "choices": ["Assurer une pression positive en alimentation et √©viter la cavitation/air ingestion", "Mesurer la quantit√© carburant", "Refroidir les IDG", "Augmenter le taux de dilution du carburant"], "answer": 0 },
{ "q": "Un syst√®me crossfeed permet :", "choices": ["D‚Äôalimenter un moteur depuis un autre r√©servoir/collecteur et d‚Äô√©quilibrer selon proc√©dures", "D‚Äôaugmenter automatiquement la pression fuel en mont√©e", "De purger l‚Äôeau du carburant en vol", "De commander la mise en drapeau de l‚Äôh√©lice"], "answer": 0 },
{ "q": "Un ¬´ fuel scavenge/transfer ¬ª a typiquement pour but :", "choices": ["De r√©cup√©rer du carburant r√©siduel (ex: r√©servoir central) vers les r√©servoirs d‚Äôaile", "De pressuriser les r√©servoirs en continu", "De refroidir les packs de conditionnement", "De filtrer le carburant en micro-particules uniquement"], "answer": 0 },
{ "q": "La mesure de quantit√© carburant sur avion transport est le plus souvent bas√©e sur :", "choices": ["Des sondes capacitives (capacitance probes) + calculateur", "Un flotteur m√©canique direct par jauge", "Un d√©bitm√®tre moteur uniquement", "Une mesure de densit√© par hygrom√®tre"], "answer": 0 },
{ "q": "La mise √† l‚Äôair (venting) d‚Äôun r√©servoir carburant sert principalement √† :", "choices": ["√âviter surpression/d√©pression et permettre un d√©bit carburant stable", "Augmenter la temp√©rature carburant", "Emp√™cher toute formation de vapeur", "Augmenter la masse volumique en vol"], "answer": 0 },
{ "q": "La fonction d‚Äôun ¬´ fuel shutoff valve ¬ª (spar valve / engine fuel valve) est :", "choices": ["Isoler l‚Äôalimentation carburant moteur (s√©curit√© incendie / arr√™t moteur)", "R√©guler le m√©lange air/carburant en combustion", "√âquilibrer automatiquement les r√©servoirs", "Assurer le d√©givrage des entr√©es d‚Äôair"], "answer": 0 },

{ "q": "Le bleed air sur turbor√©acteur est pr√©lev√© typiquement :", "choices": ["Sur un ou plusieurs √©tages du compresseur (HP/IP selon architecture)", "En sortie de turbine BP", "Apr√®s la tuy√®re (flux froid)", "Dans le r√©servoir hydraulique pressuris√©"], "answer": 0 },
{ "q": "La fonction d‚Äôune PRV/HPV (Pressure Regulating/High Pressure Valve) sur un syst√®me bleed est :", "choices": ["R√©guler la pression/limiter le d√©bit et prot√©ger les utilisateurs", "Mesurer la temp√©rature cabine", "Ouvrir la vanne carburant en croisi√®re", "Synchroniser l‚ÄôAPU avec l‚ÄôIDG"], "answer": 0 },
{ "q": "Le ¬´ pack ¬ª de conditionnement d‚Äôair comprend typiquement :", "choices": ["Des √©changeurs + ACM (Air Cycle Machine) + s√©parateur d‚Äôeau", "Une pompe hydraulique + accumulateur", "Un carburateur + magn√©tos", "Un IDG + redresseur"], "answer": 0 },
{ "q": "La pressurisation cabine est contr√¥l√©e principalement par :", "choices": ["Une ou plusieurs outflow valves modul√©es par un contr√¥leur", "Les packs uniquement par variation de d√©bit", "La vanne de crossfeed carburant", "Le PRV hydraulique principal"], "answer": 0 },
{ "q": "Une ¬´ safety valve ¬ª de pressurisation (valve positive/negative relief) sert √† :", "choices": ["Prot√©ger la structure contre une surpression ou une d√©pression excessive", "Augmenter la pression cabine en mont√©e", "R√©chauffer l‚Äôair cabine", "√âvacuer l‚Äôhumidit√© des packs"], "answer": 0 },

{ "q": "Sur un freinage avec anti-skid, le syst√®me agit en modulant :", "choices": ["La pression hydraulique vers chaque frein via une valve de contr√¥le", "Le couple moteur via FADEC", "La g√©om√©trie du train (toe-in/toe-out)", "Le crossfeed carburant"], "answer": 0 },
{ "q": "Un capteur typique anti-skid mesure :", "choices": ["La vitesse de rotation de roue (wheel speed transducer)", "La pression d‚Äôazote amortisseur", "La temp√©rature EGT", "L‚Äôangle d‚Äôattaque"], "answer": 0 },
{ "q": "Le ¬´ normal braking ¬ª est g√©n√©ralement aliment√© par :", "choices": ["Un circuit hydraulique principal d√©di√© (ex: Green/Yellow/Blue selon avion)", "Le syst√®me pneumatique bleed air", "L‚ÄôAPU uniquement", "La RAT uniquement"], "answer": 0 },
{ "q": "Le frein de parking sur avion transport est le plus souvent :", "choices": ["Une fonction hydraulique avec verrouillage/valve d√©di√©e et maintien de pression", "Un frein purement m√©canique √† c√¢ble", "Un frein uniquement √©lectrique par r√©sistance", "Un frein d√©pendant du crossfeed carburant"], "answer": 0 },

{ "q": "Le s√©quencement du train d‚Äôatterrissage est assur√© typiquement par :", "choices": ["Des capteurs de position + logique (LGCIU) + valves/s√©quenceurs", "Le PRV hydraulique uniquement", "Le syst√®me anti-skid", "Le syst√®me de pressurisation cabine"], "answer": 0 },
{ "q": "Un ¬´ downlock ¬ª est :", "choices": ["Un verrouillage m√©canique train sorti", "Une valve de limitation de pression frein", "Une pompe d‚Äôappoint carburant", "Un capteur de temp√©rature bleed"], "answer": 0 },
{ "q": "Un amortisseur ol√©opneumatique fonctionne gr√¢ce √† :", "choices": ["La compression du gaz + passage d‚Äôhuile calibr√© (amortissement)", "Un ressort acier uniquement", "Une vis sans fin et engrenages", "Un circuit √©lectrique PWM"], "answer": 0 },

{ "q": "La protection incendie moteur (transport) repose souvent sur :", "choices": ["Deux boucles de d√©tection thermique continues (redondance) + logique", "Un capteur capacitif carburant", "Une sonde Pitot chauff√©e", "Un indicateur de colmatage filtre hydraulique"], "answer": 0 },
{ "q": "L‚Äôagent extincteur typique des bouteilles moteur (transport) est :", "choices": ["Halon (ou √©quivalent) / agent propre", "Oxyg√®ne", "Azote liquide", "Vapeur d‚Äôeau"], "answer": 0 },
{ "q": "L‚ÄôAPU est principalement utilis√© pour :", "choices": ["Fournir √©nergie √©lectrique et/ou pneumatique au sol (et parfois en vol)", "Fournir la portance au d√©collage", "Refroidir les freins par air puls√©", "R√©guler la pression hydraulique √† 3000 psi"], "answer": 0 },

{ "q": "Un syst√®me anti-ice ¬´ thermal ¬ª sur ailes/entr√©es d‚Äôair utilise le plus souvent :", "choices": ["De l‚Äôair chaud (bleed) r√©gul√©", "Un liquide glycol en pulv√©risation continue", "Le carburant directement pulv√©ris√©", "Une r√©sistance √©lectrique uniquement sur grande surface"], "answer": 0 },
{ "q": "Le d√©givrage d‚Äôune sonde Pitot sur avion transport est typiquement :", "choices": ["√âlectrique par r√©sistance chauffante", "Hydraulique par √©changeur", "Pneumatique par Venturi", "M√©canique par vibration"], "answer": 0 },

// chapitre PROPULSION
{ "q": "Sur un turbofan double corps, le param√®tre N1 correspond g√©n√©ralement √† :", "choices": ["La vitesse du compresseur BP/fan", "La vitesse du compresseur HP", "La vitesse de la turbine HP", "La vitesse de la turbine libre"], "answer": 0 },
{ "q": "Le param√®tre N2 sur un moteur double corps indique :", "choices": ["La vitesse du corps HP (compresseur HP + turbine HP)", "La vitesse du fan", "Le d√©bit carburant corrig√©", "La pression totale sortie turbine"], "answer": 0 },
{ "q": "L‚ÄôEPR (Engine Pressure Ratio) est d√©fini comme :", "choices": ["PT7/PT2 (pression totale sortie/entr√©e moteur)", "T7/T2 (rapport temp√©ratures)", "N2/N1 (rapport vitesses)", "D√©bit carburant / d√©bit air"], "answer": 0 },
{ "q": "Un moteur triple corps (ex: RB211/Trent) comporte :", "choices": ["Trois arbres concentriques ind√©pendants", "Trois chambres de combustion s√©par√©es", "Trois turbines libres", "Trois FADEC distincts"], "answer": 0 },
{ "q": "Une turbine libre signifie que :", "choices": ["La turbine de puissance n‚Äôest pas m√©caniquement li√©e au compresseur", "La turbine entra√Æne directement le compresseur HP", "Le fan est entra√Æn√© par engrenage unique", "Le compresseur BP est solidaire du HP"], "answer": 0 },
{ "q": "La fonction principale des VSV (Variable Stator Vanes) est :", "choices": ["Optimiser l‚Äôangle d‚Äôattaque du flux √† bas r√©gime pour √©viter le pompage", "Augmenter la temp√©rature turbine", "R√©duire le bruit fan uniquement", "Augmenter le taux de dilution"], "answer": 0 },
{ "q": "Les VBV (Variable Bleed Valves) servent principalement √† :", "choices": ["D√©charger le compresseur √† bas r√©gime pour √©viter le surge", "Augmenter la pouss√©e en croisi√®re", "Refroidir la turbine HP", "Augmenter la pression cabine"], "answer": 0 },
{ "q": "Le ph√©nom√®ne de surge se caract√©rise par :", "choices": ["Une inversion momentan√©e du flux dans le compresseur", "Une augmentation progressive de N1", "Une baisse lente de l‚ÄôEGT", "Un exc√®s de dilution"], "answer": 0 },
{ "q": "Le ph√©nom√®ne de stall compresseur correspond √† :", "choices": ["Un d√©crochage localis√© d‚Äôaubes du compresseur", "Une extinction compl√®te de la flamme", "Un d√©s√©quilibre turbine BP", "Une perte de lubrification roulement"], "answer": 0 },
{ "q": "Le taux de dilution (bypass ratio) est le rapport entre :", "choices": ["D√©bit secondaire / d√©bit primaire", "D√©bit carburant / d√©bit air", "Pression entr√©e / sortie", "N1 / N2"], "answer": 0 },
{ "q": "Un fort taux de dilution entra√Æne g√©n√©ralement :", "choices": ["Une meilleure efficacit√© propulsive et moins de bruit", "Une EGT plus √©lev√©e", "Un surge plus fr√©quent", "Une vitesse jet plus √©lev√©e"], "answer": 0 },
{ "q": "La section la plus chaude d‚Äôun turbor√©acteur est :", "choices": ["Entr√©e turbine HP", "Sortie fan", "Entr√©e compresseur BP", "Sortie tuy√®re froide"], "answer": 0 },
{ "q": "L‚ÄôEGT (ou ITT) repr√©sente :", "choices": ["La temp√©rature des gaz √† l‚Äôentr√©e ou sortie turbine selon installation", "La temp√©rature d‚Äôhuile moteur", "La temp√©rature carburant inject√©", "La temp√©rature fan uniquement"], "answer": 0 },
{ "q": "Une limitation EGT au d√©collage est principalement li√©e √† :", "choices": ["La protection des aubes turbine", "La protection du fan", "La protection du carter accessoire", "La protection du compresseur BP"], "answer": 0 },
{ "q": "Le FADEC assure :", "choices": ["Le contr√¥le √©lectronique complet du moteur et ses protections", "La lubrification automatique des roulements", "La r√©gulation de pression cabine", "Le contr√¥le manuel du d√©bit carburant"], "answer": 0 },
{ "q": "En cas de panne FADEC totale sur moteur moderne :", "choices": ["Un mode secours (alternate) peut limiter les performances", "Le moteur acc√©l√®re √† pleine pouss√©e", "Le moteur s‚Äôarr√™te imm√©diatement sans possibilit√© de red√©marrage", "Le N1 devient ind√©pendant du fuel flow"], "answer": 0 },
{ "q": "Une gearbox avec ratio 1:15 signifie que :", "choices": ["La turbine fait 15 tours pour 1 tour d‚Äôh√©lice/fan entra√Æn√©", "L‚Äôh√©lice tourne 15 fois plus vite que la turbine", "Le couple est divis√© par 15", "Le compresseur HP tourne 15 fois plus lentement"], "answer": 0 },
{ "q": "Sur turboprop, la mise en drapeau (feather) a pour but :", "choices": ["R√©duire la tra√Æn√©e h√©lice en cas panne moteur", "Augmenter la pouss√©e au d√©collage", "Refroidir la turbine libre", "R√©duire la consommation en croisi√®re"], "answer": 0 },
{ "q": "Le beta range sur turboprop correspond √† :", "choices": ["Zone de contr√¥le pas h√©lice pour roulage/inversion", "Zone de croisi√®re √©conomique", "Zone d‚Äôallumage moteur", "Zone de limite EGT"], "answer": 0 },
{ "q": "Le couple (torque) sur turboprop est une indication de :", "choices": ["Puissance transmise √† l‚Äôh√©lice", "Temp√©rature turbine", "Pression admission", "Vitesse turbine libre"], "answer": 0 },
{ "q": "Le syst√®me de lubrification moteur sert principalement √† :", "choices": ["Lubrifier, refroidir et √©vacuer les particules", "Augmenter la pouss√©e", "Refroidir la cabine", "Pressuriser le carburant"], "answer": 0 },
{ "q": "Un d√©tecteur de particules magn√©tiques (chip detector) indique :", "choices": ["Pr√©sence de d√©bris m√©talliques ferreux dans l‚Äôhuile", "Surpression huile", "Temp√©rature excessive carburant", "D√©bit d‚Äôair insuffisant"], "answer": 0 },
{ "q": "La pression huile moteur est g√©n√©ralement r√©gul√©e par :", "choices": ["Une soupape de d√©charge (relief valve)", "Le FADEC uniquement", "La pompe carburant HP", "Le compresseur BP"], "answer": 0 },
{ "q": "Le refroidissement des aubes turbine HP se fait souvent par :", "choices": ["Air pr√©lev√© au compresseur (cooling air)", "Carburant pulv√©ris√© interne", "Huile moteur directe", "Air cabine recycl√©"], "answer": 0 },
{ "q": "Le d√©marrage moteur turbine est obtenu par :", "choices": ["Un d√©marreur pneumatique ou √©lectrique entra√Ænant le compresseur", "Une mise √† feu spontan√©e carburant", "La rotation du fan par vent relatif uniquement", "La RAT"], "answer": 0 },
{ "q": "La s√©quence correcte de d√©marrage turbine est :", "choices": ["Rotation compresseur ‚Üí injection carburant ‚Üí allumage ‚Üí auto-acc√©l√©ration", "Injection carburant ‚Üí allumage ‚Üí rotation", "Allumage ‚Üí rotation ‚Üí injection", "Rotation turbine ‚Üí injection ‚Üí coupure allumage"], "answer": 0 },
{ "q": "Un hot start est caract√©ris√© par :", "choices": ["Une mont√©e EGT excessive au d√©marrage", "Une baisse N2 en mont√©e", "Une pression huile trop √©lev√©e", "Un couple trop faible"], "answer": 0 },
{ "q": "Un hung start correspond √† :", "choices": ["Stagnation r√©gime N2 sans atteindre r√©gime auto-entretenu", "Extinction flamme en vol", "D√©passement couple max", "Surpression huile"], "answer": 0 },
{ "q": "Le syst√®me d‚Äôinversion de pouss√©e agit en :", "choices": ["D√©viant le flux moteur vers l‚Äôavant", "Inversant la rotation turbine HP", "Inversant le sens combustion", "Diminuant le taux de dilution"], "answer": 0 },
{ "q": "Sur turbofan moderne, la pouss√©e est majoritairement produite par :", "choices": ["Le flux secondaire (fan)", "La tuy√®re primaire uniquement", "La chambre combustion", "Le compresseur HP"], "answer": 0 },
{ "q": "La limite N1 maximale est g√©n√©ralement li√©e √† :", "choices": ["Contraintes m√©caniques fan et compresseur BP", "Temp√©rature turbine HP", "Pression carburant", "Pression cabine"], "answer": 0 },
{ "q": "La limite N2 maximale prot√®ge principalement :", "choices": ["Le corps HP (compresseur et turbine HP)", "Le fan uniquement", "L‚ÄôAPU", "Le syst√®me hydraulique"], "answer": 0 },
{ "q": "Un moteur turbojet compar√© √† un turbofan a :", "choices": ["Un taux de dilution faible voire nul", "Un fan de grand diam√®tre", "Une meilleure efficacit√© propulsive subsonique", "Moins de vitesse jet"], "answer": 0 },
{ "q": "Le cycle thermodynamique d‚Äôun turbor√©acteur est :", "choices": ["Cycle de Brayton", "Cycle d‚ÄôOtto", "Cycle Diesel", "Cycle Rankine"], "answer": 0 },
{ "q": "Dans un moteur √† pistons a√©ronautique, l‚Äôallumage est assur√© par :", "choices": ["Magn√©tos ind√©pendantes du circuit √©lectrique avion", "Alternateur principal", "Batterie uniquement", "FADEC obligatoire"], "answer": 0 },
{ "q": "L‚Äôavance √† l‚Äôallumage sur moteur piston sert √† :", "choices": ["Optimiser la combustion avant PMH", "Refroidir le cylindre", "Augmenter la pression huile", "R√©duire la compression"], "answer": 0 },
{ "q": "Un moteur piston √† injection compar√© √† carburateur :", "choices": ["Est moins sensible au givrage carburateur", "Consomme toujours plus", "N√©cessite magn√©tos triples", "Fonctionne sans pompe carburant"], "answer": 0 },
{ "q": "Le givrage carburateur est d√ª principalement √† :", "choices": ["Refroidissement air par d√©tente et vaporisation carburant", "Temp√©rature EGT √©lev√©e", "Surpression admission", "Exc√®s avance allumage"], "answer": 0 },

// chapitre R√âGLEMENTATION
{ "q": "La PART-66 d√©finit principalement :", "choices": ["Les exigences de d√©livrance des licences de maintenance a√©ronautique (AML)", "Les exigences d‚Äôagr√©ment des organismes de maintenance", "Les r√®gles d‚Äôexploitation des compagnies a√©riennes", "Les normes de certification des moteurs"], "answer": 0 },
{ "q": "La PART-145 concerne :", "choices": ["L‚Äôagr√©ment des organismes de maintenance", "La formation initiale des m√©caniciens", "La gestion du maintien de navigabilit√© (CAMO)", "La certification des a√©ronefs neufs"], "answer": 0 },
{ "q": "La PART-147 d√©finit :", "choices": ["Les exigences des organismes de formation agr√©√©s", "Les privil√®ges des pilotes professionnels", "Les proc√©dures de d√©livrance de l‚ÄôARC", "Les r√®gles de certification type"], "answer": 0 },
{ "q": "La PART-CAMO est relative √† :", "choices": ["La gestion du maintien de navigabilit√©", "La maintenance en ligne uniquement", "La formation continue des m√©caniciens", "La production des a√©ronefs"], "answer": 0 },
{ "q": "Le CRS (Certificate of Release to Service) atteste que :", "choices": ["Les travaux ont √©t√© r√©alis√©s conform√©ment aux donn√©es approuv√©es", "L‚Äôa√©ronef est neuf", "Le moteur a atteint son TBO", "La visite annuelle est programm√©e"], "answer": 0 },
{ "q": "Un titulaire de licence B1 peut d√©livrer un CRS pour :", "choices": ["Travaux m√©caniques et syst√®mes associ√©s", "Travaux avioniques complexes uniquement", "Certification structure majeure sans donn√©es approuv√©es", "Modification majeure sans approbation"], "answer": 0 },
{ "q": "Un personnel B2 est principalement qualifi√© pour :", "choices": ["Syst√®mes avioniques et √©lectriques", "Structures composites majeures", "R√©vision moteur compl√®te atelier", "Gestion CAMO"], "answer": 0 },
{ "q": "La responsabilit√© p√©nale d‚Äôun m√©canicien peut √™tre engag√©e en cas de :", "choices": ["Faute caract√©ris√©e ou n√©gligence grave", "Manquement aux proc√©dures approuv√©es", "Non-respect volontaire des donn√©es approuv√©es", "D√©faut de supervision d‚Äôune t√¢che critique"], "answer": 0 },
{ "q": "Le MOE (Maintenance Organisation Exposition) d√©crit :", "choices": ["Les proc√©dures et l‚Äôorganisation d‚Äôun organisme Part-145", "Le manuel de vol avion", "Le programme d‚Äôentretien avion", "La documentation constructeur moteur"], "answer": 0 },
{ "q": "L‚ÄôARC (Airworthiness Review Certificate) atteste :", "choices": ["La validit√© du maintien de navigabilit√© d‚Äôun a√©ronef", "La conformit√© moteur apr√®s overhaul", "La qualification du m√©canicien", "La conformit√© cabine passagers"], "answer": 0 },
{ "q": "Le programme d‚Äôentretien (AMP) doit √™tre :", "choices": ["Approuv√© par l‚Äôautorit√© ou l‚Äôorganisme comp√©tent", "R√©dig√© uniquement par le constructeur", "Approuv√© par le pilote commandant de bord", "Valable sans approbation formelle"], "answer": 0 },
{ "q": "Une modification majeure requiert :", "choices": ["Donn√©es approuv√©es (STC ou √©quivalent)", "Accord oral du responsable maintenance", "Validation pilote uniquement", "Mise √† jour logbook sans autre formalit√©"], "answer": 0 },
{ "q": "Un STC (Supplemental Type Certificate) correspond √† :", "choices": ["Une modification approuv√©e du type certifi√©", "Une licence m√©canicien sp√©cialis√©e", "Un manuel de maintenance simplifi√©", "Une proc√©dure interne MOE"], "answer": 0 },
{ "q": "Les donn√©es approuv√©es comprennent :", "choices": ["AMM, SRM, SB approuv√©s, STC", "Notes internes atelier non valid√©es", "Proc√©dures verbales exp√©riment√©es", "Recommandations non publi√©es"], "answer": 0 },
{ "q": "La MEL (Minimum Equipment List) est bas√©e sur :", "choices": ["La MMEL approuv√©e pour le type avion", "Le manuel de vol simplifi√©", "Le MOE Part-145", "Le logbook moteur"], "answer": 0 },
{ "q": "La MEL permet :", "choices": ["D‚Äôexploiter l‚Äôavion avec certains √©quipements inop√©rants sous conditions", "D‚Äôignorer toute panne mineure", "De reporter ind√©finiment une r√©paration", "De modifier les limitations structurales"], "answer": 0 },
{ "q": "Le personnel autoris√© √† signer un CRS doit :", "choices": ["√ätre qualifi√©, form√© et autoris√© par l‚Äôorganisme", "√ätre uniquement titulaire Part-66", "Avoir 5 ans d‚Äôexp√©rience minimum", "√ätre valid√© par le pilote"], "answer": 0 },
{ "q": "Une ¬´ human factor ¬ª selon r√©glementation inclut :", "choices": ["Facteurs influen√ßant la performance humaine en maintenance", "Performance moteur en altitude", "Rendement compresseur", "Calcul centrage avion"], "answer": 0 },
{ "q": "La notion de ¬´ dual inspection ¬ª signifie :", "choices": ["Inspection ind√©pendante pour t√¢che critique", "Inspection par deux m√©caniciens", "Inspection doubl√©e chaque 6 mois", "Inspection visuelle et magn√©toscopie obligatoire"], "answer": 0 },
{ "q": "Un organisme Part-145 doit disposer :", "choices": ["D‚Äôun syst√®me qualit√© et d‚Äôaudits internes", "Proc√©dure de gestion des modifications", "Manuel d‚Äôexploitation a√©rien", "Syst√®me SMS uniquement"], "answer": 0 },
{ "q": "Le logbook a√©ronef sert √† :", "choices": ["Tracer les interventions et le statut technique", "Archiver les formations m√©caniciens", "Documenter les ventes pi√®ces", "Suivre la masse et centrage uniquement"], "answer": 0 },
{ "q": "La notion de ¬´ maintien de navigabilit√© ¬ª implique :", "choices": ["Que l‚Äôa√©ronef reste conforme aux exigences applicables en permanence", "Qu‚Äôil ait r√©ussi son vol test initial", "Qu‚Äôil soit conforme uniquement au d√©collage", "Qu‚Äôil respecte les normes cabine passagers"], "answer": 0 },
{ "q": "Une AD (Airworthiness Directive) est :", "choices": ["Une consigne de navigabilit√© obligatoire", "Une recommandation constructeur facultative", "Un manuel de vol compl√©mentaire", "Une proc√©dure interne CAMO"], "answer": 0 },
{ "q": "Les AD sont √©mises par :", "choices": ["Autorit√© de certification (ex: EASA)", "Organisme Part-145", "Constructeur uniquement", "Exploitant a√©rien"], "answer": 0 },
{ "q": "Un SB (Service Bulletin) devient obligatoire :", "choices": ["S‚Äôil est rendu obligatoire par une AD", "S‚Äôil est recommand√© par le chef atelier", "S‚Äôil d√©passe 6 mois", "S‚Äôil concerne un moteur"], "answer": 0 },
{ "q": "Le privil√®ge B1 inclut g√©n√©ralement :", "choices": ["Certification apr√®s maintenance m√©canique et structure simple", "Certification avionique complexe autonome", "Approbation modification majeure", "Validation ARC"], "answer": 0 },
{ "q": "Un personnel non certifiant peut :", "choices": ["R√©aliser des t√¢ches sous supervision", "√ätre autoris√© ponctuellement √† signer", "Approuver un CRS", "√ätre autoris√© si >5 ans exp√©rience"], "answer": 0 },
{ "q": "La tra√ßabilit√© des pi√®ces exige :", "choices": ["Certificat lib√©ratoire type EASA Form 1 ou √©quivalent", "Facture fournisseur simple", "Num√©ro s√©rie non document√©", "Validation pilote"], "answer": 0 },
{ "q": "Une pi√®ce non tra√ßable doit √™tre :", "choices": ["Quarantain√©e et non install√©e", "Install√©e sous responsabilit√© m√©canicien", "Accept√©e si visuellement conforme", "Utilis√©e pour essais en vol"], "answer": 0 },
{ "q": "Le SMS (Safety Management System) vise √† :", "choices": ["Identifier et g√©rer les risques s√©curit√©", "Optimiser la consommation carburant", "R√©duire co√ªts maintenance uniquement", "Am√©liorer confort cabine"], "answer": 0 },
{ "q": "La culture ¬´ just culture ¬ª signifie :", "choices": ["Encourager le reporting sans sanction injustifi√©e", "Tol√©rer toute faute grave", "Sanctionner syst√©matiquement les erreurs", "Supprimer audits internes"], "answer": 0 },
{ "q": "Une t√¢che critique selon Part-145 n√©cessite :", "choices": ["Proc√©dure sp√©cifique et contr√¥le renforc√©", "Signature pilote obligatoire", "Approbation constructeur imm√©diate", "Ex√©cution uniquement en atelier"], "answer": 0 },
{ "q": "La conservation des enregistrements maintenance est exig√©e :", "choices": ["Pour une dur√©e minimale d√©finie par la r√©glementation", "Uniquement pendant la validit√© ARC", "Jusqu‚Äôau prochain vol", "6 mois maximum"], "answer": 0 },
{ "q": "Le r√¥le principal d‚Äôune autorit√© comp√©tente est :", "choices": ["Superviser et contr√¥ler la conformit√© r√©glementaire", "Former les m√©caniciens en interne", "G√©rer les stocks pi√®ces", "Planifier les vols commerciaux"], "answer": 0 },
{ "q": "Une erreur de maintenance d√©tect√©e apr√®s CRS implique :", "choices": ["Analyse et actions correctives selon SMS", "Annulation automatique licence", "Suppression MEL", "Radiation avion imm√©diate"], "answer": 0 },

// chapitre ELECTRICITE B1
{ "q": "La loi d‚ÄôOhm s‚Äôexprime par :", "choices": ["U = R √ó I", "P = U √ó I", "I = R / U", "R = U √ó I"], "answer": 0 },
{ "q": "Dans un circuit s√©rie, l‚Äôintensit√© est :", "choices": ["Identique en tout point du circuit", "Maximale au g√©n√©rateur uniquement", "Inversement proportionnelle √† la tension", "Divis√©e entre chaque r√©sistance"], "answer": 0 },
{ "q": "Dans un circuit parall√®le, la tension aux bornes de chaque branche est :", "choices": ["Identique √† la tension d‚Äôalimentation", "Proportionnelle √† la r√©sistance", "Divis√©e par le nombre de branches", "Maximale sur la branche la plus r√©sistive"], "answer": 0 },
{ "q": "La puissance √©lectrique dissip√©e par une r√©sistance peut s‚Äô√©crire :", "choices": ["P = U √ó I", "P = U / I", "P = R / I¬≤", "P = U¬≤ √ó R"], "answer": 0 },
{ "q": "Une augmentation de temp√©rature d‚Äôun conducteur en cuivre entra√Æne g√©n√©ralement :", "choices": ["Une augmentation de sa r√©sistance", "Une diminution de sa r√©sistance", "Aucun effet sur la r√©sistance", "Une inversion de polarit√©"], "answer": 0 },
{ "q": "Le courant alternatif 115V sur avion transport est typiquement :", "choices": ["115V ‚Äì 400 Hz triphas√©", "115V ‚Äì 50 Hz monophas√©", "28V ‚Äì 400 Hz continu", "230V ‚Äì 60 Hz triphas√©"], "answer": 0 },
{ "q": "L‚Äôutilisation du 400 Hz en a√©ronautique permet principalement :", "choices": ["De r√©duire la masse et taille des √©quipements", "D‚Äôaugmenter la tension nominale", "De diminuer les pertes Joule uniquement", "D‚Äô√©viter les redresseurs"], "answer": 0 },
{ "q": "Un alternateur triphas√© g√©n√®re :", "choices": ["Trois tensions sinuso√Ødales d√©phas√©es de 120¬∞", "Trois tensions continues d√©phas√©es", "Une tension puls√©e redress√©e", "Deux phases oppos√©es √† 180¬∞"], "answer": 0 },
{ "q": "Un TRU (Transformer Rectifier Unit) a pour fonction :", "choices": ["Convertir l‚ÄôAC en DC r√©gul√©", "Convertir le DC en AC 400 Hz", "Stabiliser la fr√©quence", "Augmenter le facteur de puissance"], "answer": 0 },
{ "q": "Un IDG (Integrated Drive Generator) maintient :", "choices": ["Une fr√©quence constante malgr√© variation r√©gime moteur", "Une tension constante en DC uniquement", "Une puissance constante ind√©pendamment de la charge", "Un courant constant quel que soit le r√©gime"], "answer": 0 },
{ "q": "La fr√©quence d‚Äôun alternateur d√©pend principalement :", "choices": ["De la vitesse de rotation et du nombre de p√¥les", "De la tension batterie", "De la r√©sistance du circuit", "Du facteur de puissance"], "answer": 0 },
{ "q": "Le facteur de puissance en AC est le rapport entre :", "choices": ["Puissance active et puissance apparente", "Puissance r√©active et active", "Tension et courant", "R√©sistance et imp√©dance"], "answer": 0 },
{ "q": "Dans un circuit inductif pur, le courant est :", "choices": ["En retard de phase sur la tension", "En avance de phase sur la tension", "En phase avec la tension", "Ind√©pendant de la fr√©quence"], "answer": 0 },
{ "q": "Dans un circuit capacitif pur, le courant est :", "choices": ["En avance de phase sur la tension", "En retard de phase sur la tension", "Toujours nul", "Ind√©pendant de la tension"], "answer": 0 },
{ "q": "L‚Äôimp√©dance en AC correspond √† :", "choices": ["La combinaison de r√©sistance et r√©actance", "La r√©sistance pure uniquement", "La puissance dissip√©e", "La tension maximale admissible"], "answer": 0 },
{ "q": "Un court-circuit se caract√©rise par :", "choices": ["Une r√©sistance tr√®s faible entra√Ænant un courant √©lev√©", "Une tension nulle sans courant", "Une fr√©quence instable", "Une polarit√© invers√©e"], "answer": 0 },
{ "q": "Un circuit breaker (CB) prot√®ge principalement contre :", "choices": ["Les surintensit√©s", "Les surtensions uniquement", "Les baisses de fr√©quence", "Les d√©fauts de phase"], "answer": 0 },
{ "q": "Un fusible compar√© √† un disjoncteur est :", "choices": ["√Ä usage unique apr√®s fusion", "R√©armable automatiquement", "Insensible aux surintensit√©s", "Utilis√© uniquement en AC"], "answer": 0 },
{ "q": "La continuit√© d‚Äôun conducteur se v√©rifie avec :", "choices": ["Un ohmm√®tre hors tension", "Un voltm√®tre sous tension", "Un amp√®rem√®tre en parall√®le", "Un fr√©quencem√®tre"], "answer": 0 },
{ "q": "Un relais est :", "choices": ["Un interrupteur command√© √©lectriquement", "Un transformateur abaisseur", "Un redresseur triphas√©", "Un r√©gulateur de fr√©quence"], "answer": 0 },
{ "q": "Un contact NO (Normally Open) est :", "choices": ["Ouvert au repos sans alimentation bobine", "Ferm√© au repos", "Toujours ferm√© sous tension", "Isol√© m√©caniquement du circuit"], "answer": 0 },
{ "q": "La mise √† la masse d‚Äôun syst√®me √©lectrique avion sert √† :", "choices": ["Assurer un retour courant et r√©f√©rence commune", "Augmenter la tension disponible", "Diminuer la fr√©quence", "Isoler √©lectriquement la structure"], "answer": 0 },
{ "q": "Une batterie Ni-Cd compar√©e √† une batterie plomb-acide :", "choices": ["Supporte mieux les forts courants de d√©charge", "Est plus sensible √† l‚Äôeffet m√©moire avionique", "N√©cessite moins de surveillance thermique", "A une tension cellule plus faible"], "answer": 0 },
{ "q": "La tension nominale d‚Äôun syst√®me DC avion transport est souvent :", "choices": ["28 V DC", "14 V DC", "115 V DC", "230 V DC"], "answer": 0 },
{ "q": "Un g√©n√©rateur DC n√©cessite :", "choices": ["Un collecteur et balais pour redresser m√©caniquement", "Un redresseur externe obligatoire", "Un transformateur triphas√©", "Un r√©gulateur 400 Hz"], "answer": 0 },
{ "q": "Un d√©faut d‚Äôisolement vers la masse est d√©tect√© par :", "choices": ["Un syst√®me de d√©tection de fuite √† la masse (GFI)", "Un TRU", "Un IDG", "Un r√©gulateur de tension"], "answer": 0 },
{ "q": "La chute de tension dans un c√¢ble d√©pend principalement :", "choices": ["De sa r√©sistance et du courant", "De la fr√©quence uniquement", "De la puissance apparente", "Du facteur de puissance"], "answer": 0 },
{ "q": "L‚Äôeffet d‚Äôune augmentation de section de c√¢ble est :", "choices": ["Diminuer la r√©sistance et la chute de tension", "Augmenter la fr√©quence", "Augmenter l‚Äôimp√©dance", "Diminuer la tension source"], "answer": 0 },
{ "q": "Un onduleur (inverter) convertit :", "choices": ["Du DC en AC", "De l‚ÄôAC en DC", "Du 400 Hz en 50 Hz m√©caniquement", "Une tension variable en tension fixe DC"], "answer": 0 },
{ "q": "Un bus √©lectrique essentiel alimente :", "choices": ["Les syst√®mes critiques en cas panne g√©n√©rateur", "Uniquement l‚Äô√©clairage cabine", "Les √©quipements galley", "Les syst√®mes non essentiels"], "answer": 0 },
{ "q": "La protection diff√©rentielle en triphas√© vise √† :", "choices": ["D√©tecter un d√©s√©quilibre ou fuite vers masse", "Stabiliser la fr√©quence", "Augmenter le facteur de puissance", "Limiter la tension nominale"], "answer": 0 },
{ "q": "Un moteur √©lectrique asynchrone voit sa vitesse d√©pendre principalement :", "choices": ["De la fr√©quence d‚Äôalimentation", "De la tension uniquement", "Du courant absorb√©", "De la r√©sistance statorique"], "answer": 0 },
{ "q": "Le courant d‚Äôappel (inrush current) est :", "choices": ["Un courant initial √©lev√© lors de la mise sous tension", "Un courant permanent de surcharge", "Un d√©faut d‚Äôisolement", "Un courant inverse en DC"], "answer": 0 },
{ "q": "La polarit√© en courant continu est importante pour :", "choices": ["Le bon fonctionnement des composants sensibles (diodes, relais polaris√©s)", "La fr√©quence du r√©seau", "Le facteur de puissance", "La puissance apparente"], "answer": 0 },
{ "q": "Une diode laisse passer le courant :", "choices": ["Dans un seul sens (direct)", "Dans les deux sens", "Uniquement en AC", "Seulement au-dessus de 115V"], "answer": 0 },

// chapitre STRUCTURES B1
{ "q": "Une structure semi-monocoque reprend principalement les efforts gr√¢ce :", "choices": ["Au rev√™tement travaillant associ√© aux cadres et lisses", "Uniquement aux longerons principaux", "Aux nervures seules", "Au plancher cabine renforc√©"], "answer": 0 },
{ "q": "Le r√¥le principal d‚Äôun longeron d‚Äôaile est de :", "choices": ["Reprendre les efforts de flexion principaux", "Maintenir la forme a√©rodynamique du profil uniquement", "Supporter les √©quipements cabine", "Transmettre la pression hydraulique"], "answer": 0 },
{ "q": "Une nervure d‚Äôaile sert principalement √† :", "choices": ["Maintenir le profil a√©rodynamique et r√©partir les charges", "Reprendre seule la flexion longitudinale", "Fixer le train principal uniquement", "Assurer l‚Äô√©tanch√©it√© carburant"], "answer": 0 },
{ "q": "Le ph√©nom√®ne de flambage (buckling) concerne surtout :", "choices": ["Les √©l√©ments comprim√©s minces soumis √† charge critique", "Les pi√®ces en traction pure", "Les rivets en cisaillement simple", "Les c√¢bles de commande en tension"], "answer": 0 },
{ "q": "Une contrainte de cisaillement est typiquement appliqu√©e sur :", "choices": ["Un rivet reliant deux t√¥les", "Un c√¢ble en traction", "Un longeron en flexion pure", "Une peau en compression radiale"], "answer": 0 },
{ "q": "La corrosion galvanique appara√Æt lorsque :", "choices": ["Deux m√©taux diff√©rents sont en contact en pr√©sence d‚Äô√©lectrolyte", "Un alliage aluminium est poli", "Un composite est expos√© UV", "Une pi√®ce est surdimensionn√©e"], "answer": 0 },
{ "q": "Un rivet √† tige pleine (solid rivet) est principalement sollicit√© en :", "choices": ["Cisaillement", "Compression axiale pure", "Torsion", "Flexion longitudinale"], "answer": 0 },
{ "q": "Un rivet ¬´ Hi-Lok ¬ª est utilis√© lorsqu‚Äôon recherche :", "choices": ["Une fixation √† haute r√©sistance avec tol√©rance serr√©e", "Un assemblage d√©montable manuel rapide", "Un montage uniquement provisoire", "Une liaison souple antivibratoire"], "answer": 0 },
{ "q": "Le matage excessif d‚Äôun rivet peut entra√Æner :", "choices": ["Une fissuration locale du mat√©riau", "Une augmentation de r√©sistance m√©canique", "Une meilleure √©tanch√©it√© structurelle", "Une r√©duction de corrosion"], "answer": 0 },
{ "q": "La fatigue des mat√©riaux est favoris√©e par :", "choices": ["Des cycles r√©p√©t√©s de contraintes", "Une charge statique constante faible", "Une temp√©rature ambiante stable", "Une absence de vibrations"], "answer": 0 },
{ "q": "Une fissure de fatigue d√©bute g√©n√©ralement :", "choices": ["√Ä un concentrateur de contraintes", "Au centre d‚Äôune t√¥le homog√®ne", "Sur une surface polie sans d√©faut", "Sur une zone en compression pure"], "answer": 0 },
{ "q": "Le ¬´ stop drilling ¬ª consiste √† :", "choices": ["Percer en extr√©mit√© de fissure pour ralentir sa propagation", "Supprimer totalement la fissure", "Remplacer imm√©diatement la pi√®ce", "Augmenter la rigidit√© locale"], "answer": 0 },
{ "q": "Un composite carbone pr√©sente comme caract√©ristique :", "choices": ["Une r√©sistance √©lev√©e sp√©cifique mais anisotrope", "Une isotropie parfaite dans toutes directions", "Une sensibilit√© nulle aux impacts", "Une conductivit√© √©lectrique identique √† l‚Äôaluminium"], "answer": 0 },
{ "q": "Le ph√©nom√®ne de d√©laminage dans un composite correspond √† :", "choices": ["Une s√©paration entre couches stratifi√©es", "Une fissure traversante m√©tallique", "Une corrosion intergranulaire", "Un flambage plastique"], "answer": 0 },
{ "q": "Une r√©paration composite structurale requiert :", "choices": ["Respect strict des donn√©es SRM et proc√©dures approuv√©es", "Pon√ßage simple et peinture", "Rivetage standard aluminium", "Application mastic seul"], "answer": 0 },
{ "q": "La corrosion intergranulaire affecte principalement :", "choices": ["Les joints de grains d‚Äôun alliage", "La surface externe uniquement", "Les rivets en acier inox", "Les composites fibre verre"], "answer": 0 },
{ "q": "Un traitement d‚Äôanodisation sur aluminium vise √† :", "choices": ["Am√©liorer la r√©sistance √† la corrosion", "Augmenter la ductilit√©", "R√©duire la conductivit√© thermique", "Supprimer la fatigue"], "answer": 0 },
{ "q": "La fonction principale d‚Äôun cadre (frame) fuselage est de :", "choices": ["Maintenir la section circulaire et reprendre charges radiales", "Supporter seul les efforts longitudinaux", "Fixer les gouvernes", "Assurer l‚Äô√©coulement carburant"], "answer": 0 },
{ "q": "Une lisse (stringer) fuselage contribue surtout √† :", "choices": ["La rigidit√© longitudinale", "La pressurisation cabine uniquement", "La fixation train avant", "La ventilation soute"], "answer": 0 },
{ "q": "La pressurisation cabine induit principalement :", "choices": ["Des efforts de traction sur le rev√™tement fuselage", "Une compression radiale interne", "Un cisaillement pur sur cadres", "Une torsion constante"], "answer": 0 },
{ "q": "Un longeron fissur√© au-del√† des limites SRM n√©cessite :", "choices": ["Une r√©paration approuv√©e ou remplacement", "Un simple contr√¥le visuel p√©riodique", "Un masticage provisoire", "Une r√©duction masse avion"], "answer": 0 },
{ "q": "Le NDT par ressuage permet de d√©tecter :", "choices": ["Des fissures d√©bouchantes de surface", "Des d√©fauts internes profonds uniquement", "Des d√©fauts uniquement ferromagn√©tiques", "Des d√©fauts dans composites carbone"], "answer": 0 },
{ "q": "La magn√©toscopie est applicable uniquement sur :", "choices": ["Mat√©riaux ferromagn√©tiques", "Alliages aluminium", "Composites carbone", "Titane pur non magn√©tique"], "answer": 0 },
{ "q": "Le contr√¥le par ultrasons permet :", "choices": ["La d√©tection de d√©fauts internes", "Uniquement fissures visibles", "La mesure de corrosion galvanique", "La d√©tection fuite carburant"], "answer": 0 },
{ "q": "Une gouverne √©quilibr√©e statiquement signifie :", "choices": ["Centre de gravit√© proche de l‚Äôaxe rotation", "Aucune masse d‚Äô√©quilibrage", "Poids maximal autoris√©", "√âquilibrage dynamique moteur"], "answer": 0 },
{ "q": "Un volet (flap) augmente principalement :", "choices": ["La portance et la tra√Æn√©e", "La vitesse de croisi√®re", "La rigidit√© structurelle aile", "La masse maximale"], "answer": 0 },
{ "q": "Un aileron sert √† contr√¥ler :", "choices": ["Le roulis", "Le tangage", "Le lacet", "La portance totale"], "answer": 0 },
{ "q": "Une corrosion exfoliante se manifeste par :", "choices": ["Un d√©collement en couches du mat√©riau", "Un simple changement couleur", "Une fissure nette transversale", "Un flambage imm√©diat"], "answer": 0 },
{ "q": "Le traitement alodine a pour but :", "choices": ["Protection anticorrosion avant peinture", "Augmenter la r√©sistance m√©canique", "Modifier la g√©om√©trie pi√®ce", "R√©duire contraintes internes"], "answer": 0 },
{ "q": "Un joint d‚Äô√©tanch√©it√© carburant aile doit r√©sister √† :", "choices": ["Carburant et variations temp√©rature", "Pression cabine uniquement", "Efforts traction maximale", "Cisaillement pur rivet"], "answer": 0 },
{ "q": "La tol√©rance trou/rivet trop importante peut entra√Æner :", "choices": ["Jeu excessif et concentration contraintes", "Augmentation r√©sistance assemblage", "Diminution fatigue", "Suppression corrosion"], "answer": 0 },
{ "q": "Une r√©paration ¬´ doubler plate ¬ª consiste √† :", "choices": ["Ajouter une plaque de renfort rivet√©e", "Remplacer int√©gralement la section", "Coller un composite sans rivet", "Supprimer la charge appliqu√©e"], "answer": 0 },
{ "q": "La d√©formation plastique se produit lorsque :", "choices": ["La limite √©lastique est d√©pass√©e", "La contrainte reste sous limite √©lastique", "La charge est retir√©e imm√©diatement", "La temp√©rature diminue"], "answer": 0 },
{ "q": "Un mat√©riau isotrope pr√©sente :", "choices": ["Les m√™mes propri√©t√©s dans toutes directions", "Des propri√©t√©s variables selon fibre", "Une r√©sistance uniquement longitudinale", "Une rigidit√© nulle en torsion"], "answer": 0 },
{ "q": "Le contr√¥le visuel d√©taill√© (DET) implique :", "choices": ["Inspection rapproch√©e avec √©clairage ad√©quat", "Observation √† distance uniquement", "Essai destructif local", "Magn√©toscopie obligatoire"], "answer": 0 },

// chapitre MAINTENANCE B1
{ "q": "La maintenance pr√©ventive a pour objectif principal :", "choices": ["R√©duire la probabilit√© de panne par actions planifi√©es", "R√©parer uniquement apr√®s d√©faillance", "Augmenter les performances moteur", "Modifier la configuration avion"], "answer": 0 },
{ "q": "La maintenance corrective est d√©clench√©e :", "choices": ["Apr√®s d√©tection d‚Äôune panne ou anomalie", "√Ä intervalle fixe calendaire", "√Ä chaque inspection journali√®re", "Avant toute visite programm√©e"], "answer": 0 },
{ "q": "Une inspection ¬´ General Visual Inspection (GVI) ¬ª implique :", "choices": ["Un examen visuel global sans d√©montage complexe", "Un contr√¥le dimensionnel pr√©cis au comparateur", "Une inspection NDT syst√©matique", "Un d√©montage complet du syst√®me"], "answer": 0 },
{ "q": "Une inspection ¬´ Detailed Inspection (DET) ¬ª se caract√©rise par :", "choices": ["Un examen approfondi avec √©clairage et acc√®s am√©lior√©", "Une observation √† distance sans √©clairage", "Un essai destructif", "Une v√©rification documentaire uniquement"], "answer": 0 },
{ "q": "Le NDT par ressuage est particuli√®rement adapt√© pour :", "choices": ["D√©tecter fissures d√©bouchantes en surface", "Mesurer l‚Äô√©paisseur de t√¥le", "Identifier d√©fauts internes profonds uniquement", "D√©tecter corrosion galvanique cach√©e"], "answer": 0 },
{ "q": "La magn√©toscopie est inefficace sur :", "choices": ["Alliages d‚Äôaluminium non ferromagn√©tiques", "Aciers faiblement alli√©s", "Pi√®ces en fer doux", "Aciers carbone"], "answer": 0 },
{ "q": "Un contr√¥le par ultrasons permet principalement :", "choices": ["D√©tection de d√©fauts internes et mesure d‚Äô√©paisseur", "Inspection visuelle √† distance", "Analyse chimique surface", "Mesure tension √©lectrique"], "answer": 0 },
{ "q": "Le FOD (Foreign Object Damage) d√©signe :", "choices": ["Dommages caus√©s par corps √©trangers", "Fatigue op√©rationnelle d√©tect√©e", "Fuite hydraulique interne", "D√©faut logiciel FADEC"], "answer": 0 },
{ "q": "Le respect du couple de serrage est essentiel pour :", "choices": ["Assurer pr√©charge correcte sans endommager fixation", "Augmenter la puissance moteur", "R√©duire la corrosion", "Diminuer la masse assemblage"], "answer": 0 },
{ "q": "Une cl√© dynamom√©trique doit √™tre :", "choices": ["√âtalonn√©e p√©riodiquement", "Utilis√©e uniquement en serrage maximal", "Employ√©e sans v√©rification pr√©alable", "Graiss√©e avant chaque usage interne"], "answer": 0 },
{ "q": "Le ¬´ troubleshooting ¬ª consiste √† :", "choices": ["Identifier m√©thodiquement la cause d‚Äôune panne", "Remplacer syst√©matiquement les composants", "Effacer les messages ECAM", "Reporter la panne √† plus tard"], "answer": 0 },
{ "q": "Un ¬´ deferred defect ¬ª est :", "choices": ["Une anomalie report√©e selon MEL sous conditions", "Une panne supprim√©e d√©finitivement", "Un d√©faut structurel majeur", "Une erreur administrative"], "answer": 0 },
{ "q": "La tra√ßabilit√© d‚Äôune pi√®ce install√©e n√©cessite :", "choices": ["Un certificat lib√©ratoire valide", "Une inspection visuelle uniquement", "Un accord verbal fournisseur", "Un ancien logbook moteur"], "answer": 0 },
{ "q": "Une pi√®ce d√©clar√©e ¬´ unserviceable ¬ª doit √™tre :", "choices": ["Identifi√©e et isol√©e pour √©viter r√©utilisation", "Remont√©e pour test en vol", "Stock√©e sans √©tiquette", "Nettoy√©e et r√©install√©e"], "answer": 0 },
{ "q": "La lubrification inad√©quate d‚Äôun roulement peut entra√Æner :", "choices": ["√âchauffement et usure pr√©matur√©e", "Augmentation couple moteur", "R√©duction vibration", "Am√©lioration rendement"], "answer": 0 },
{ "q": "Un contr√¥le boroscopique permet :", "choices": ["Inspection interne moteur sans d√©montage complet", "Analyse carburant", "Mesure pression hydraulique", "Test r√©sistance √©lectrique"], "answer": 0 },
{ "q": "La documentation AMM doit √™tre utilis√©e :", "choices": ["Comme r√©f√©rence principale pour ex√©cution t√¢che", "Seulement en cas de doute", "Uniquement pour formation initiale", "Remplac√©e par exp√©rience personnelle"], "answer": 0 },
{ "q": "Un ¬´ independent inspection ¬ª est requis lorsque :", "choices": ["La t√¢che est critique pour la s√©curit√© des vols", "La t√¢che est mineure", "Le m√©canicien est exp√©riment√©", "Le d√©lai maintenance est court"], "answer": 0 },
{ "q": "Un √©crou autofrein√© doit √™tre remplac√© si :", "choices": ["La r√©sistance au serrage n‚Äôest plus conforme", "Il est l√©g√®rement sale", "Il a √©t√© peint", "Il est mont√© horizontalement"], "answer": 0 },
{ "q": "Le marquage ¬´ torque stripe ¬ª permet :", "choices": ["V√©rification visuelle d‚Äôun desserrage √©ventuel", "Augmenter couple serrage", "Identifier mat√©riau fixation", "R√©duire corrosion"], "answer": 0 },
{ "q": "Un outil FOD contr√¥l√© implique :", "choices": ["Inventaire et comptage syst√©matique apr√®s intervention", "Stockage libre atelier", "Utilisation partag√©e sans suivi", "Nettoyage hebdomadaire uniquement"], "answer": 0 },
{ "q": "Le stockage des produits chimiques maintenance exige :", "choices": ["Respect des fiches de donn√©es s√©curit√© (FDS)", "Stockage √† proximit√© batterie", "M√©lange possible sans pr√©caution", "Absence d‚Äô√©tiquetage sp√©cifique"], "answer": 0 },
{ "q": "Une t√¢che de maintenance doit √™tre sign√©e lorsque :", "choices": ["Elle est termin√©e conform√©ment aux donn√©es approuv√©es", "Elle est commenc√©e", "Elle est planifi√©e", "Elle est valid√©e par pilote"], "answer": 0 },
{ "q": "Le contr√¥le corrosion pr√©ventif inclut :", "choices": ["Nettoyage, inspection et traitement protecteur", "Augmentation pression cabine", "Application carburant protecteur", "R√©duction intervalle vol"], "answer": 0 },
{ "q": "Une inspection zonale consiste √† :", "choices": ["Examiner une zone sp√©cifique ind√©pendamment syst√®me", "Inspecter uniquement un √©quipement pr√©cis", "Analyser performances moteur", "V√©rifier documents logbook"], "answer": 0 },
{ "q": "La dur√©e de vie ¬´ Hard Time ¬ª signifie :", "choices": ["Remplacement obligatoire √† √©ch√©ance fixe", "Remplacement selon √©tat observ√©", "Remplacement uniquement apr√®s panne", "R√©vision facultative"], "answer": 0 },
{ "q": "La maintenance ¬´ On Condition ¬ª implique :", "choices": ["Surveillance √©tat avant d√©cision remplacement", "Remplacement syst√©matique", "Ignorer donn√©es inspections", "Prolongation automatique TBO"], "answer": 0 },
{ "q": "Un TBO (Time Between Overhaul) repr√©sente :", "choices": ["Intervalle recommand√© entre r√©visions majeures", "Dur√©e de vie maximale cellule", "Cycle inspection journali√®re", "Limite carburant embarqu√©"], "answer": 0 },
{ "q": "Le nettoyage avant inspection structure est important pour :", "choices": ["Permettre d√©tection d√©fauts pr√©cis", "Augmenter rigidit√© pi√®ce", "Modifier propri√©t√©s mat√©riau", "R√©duire masse avion"], "answer": 0 },
{ "q": "Une contamination hydraulique peut entra√Æner :", "choices": ["Usure composants et dysfonctionnements", "Augmentation pression stable", "Am√©lioration lubrification", "R√©duction temp√©rature fluide"], "answer": 0 },
{ "q": "La gestion des outils calibr√©s impose :", "choices": ["Suivi d‚Äô√©talonnage p√©riodique document√©", "Utilisation libre sans contr√¥le", "√âtalonnage annuel facultatif", "Remplacement syst√©matique mensuel"], "answer": 0 },
{ "q": "Un contr√¥le apr√®s maintenance (post-maintenance check) vise √† :", "choices": ["V√©rifier bon fonctionnement avant remise en service", "Augmenter puissance moteur", "R√©duire documentation", "Supprimer inspection visuelle"], "answer": 0 },
{ "q": "Une erreur de maintenance doit √™tre :", "choices": ["Rapport√©e selon proc√©dure SMS", "Ignor√©e si mineure", "Corrig√©e sans tra√ßabilit√©", "Signal√©e uniquement verbalement"], "answer": 0 },
{ "q": "Le respect des EPI (√©quipements protection individuelle) est n√©cessaire pour :", "choices": ["Assurer s√©curit√© du personnel", "R√©duire temps intervention", "Augmenter pr√©cision mesure", "Am√©liorer qualit√© documentation"], "answer": 0 },
{ "q": "Une consigne de navigabilit√© (AD) applicable doit √™tre :", "choices": ["Appliqu√©e avant √©ch√©ance d√©finie", "Ignor√©e si non critique visuellement", "Appliqu√©e uniquement moteur", "Appliqu√©e apr√®s TBO"], "answer": 0 },

// chapitre FACTEURS HUMAINS
{ "q": "Le mod√®le SHELL met en √©vidence :", "choices": ["Les interfaces entre l‚Äôhomme et son environnement de travail", "Les performances moteur en altitude", "La structure hi√©rarchique maintenance", "Le cycle thermique turbine"], "answer": 0 },
{ "q": "La fatigue peut entra√Æner :", "choices": ["Diminution vigilance et augmentation erreurs", "Am√©lioration concentration", "R√©duction temps r√©action", "Augmentation pr√©cision gestuelle"], "answer": 0 },
{ "q": "Le ¬´ Dirty Dozen ¬ª repr√©sente :", "choices": ["Les 12 principaux facteurs contribuant aux erreurs humaines", "Les 12 √©tapes d‚Äôune visite C-Check", "Les 12 responsabilit√©s du CRS", "Les 12 outils obligatoires atelier"], "answer": 0 },
{ "q": "Une mauvaise communication en maintenance peut provoquer :", "choices": ["Des erreurs d‚Äôex√©cution ou d‚Äôinterpr√©tation", "Une r√©duction charge travail", "Une am√©lioration coordination", "Une suppression inspections"], "answer": 0 },
{ "q": "La pression temporelle excessive favorise :", "choices": ["La prise de raccourcis non conformes", "Une meilleure rigueur documentaire", "Une diminution stress", "Une augmentation s√©curit√©"], "answer": 0 },
{ "q": "La complaisance appara√Æt lorsque :", "choices": ["La routine diminue le niveau de vigilance", "Le technicien est d√©butant", "Une panne majeure survient", "Un audit externe est annonc√©"], "answer": 0 },
{ "q": "Le stress chronique peut entra√Æner :", "choices": ["Baisse performance et jugement alt√©r√©", "Am√©lioration m√©moire long terme", "Augmentation pr√©cision technique", "R√©duction erreurs humaines"], "answer": 0 },
{ "q": "La conscience situationnelle signifie :", "choices": ["Comprendre l‚Äô√©tat global du syst√®me et risques associ√©s", "Conna√Ætre uniquement sa t√¢che imm√©diate", "Se concentrer uniquement sur la documentation", "Ignorer environnement ext√©rieur"], "answer": 0 },
{ "q": "Un bon travail en √©quipe repose notamment sur :", "choices": ["Communication claire et feedback", "Hi√©rarchie stricte sans dialogue", "Travail isol√© syst√©matique", "Absence de proc√©dures √©crites"], "answer": 0 },
{ "q": "La distraction en maintenance augmente le risque :", "choices": ["D‚Äôoublier une √©tape critique", "D‚Äôam√©liorer productivit√©", "De r√©duire stress", "D‚Äôaugmenter conformit√©"], "answer": 0 },
{ "q": "Le manque d‚Äôassertivit√© peut conduire √† :", "choices": ["Ne pas signaler une anomalie d√©tect√©e", "Am√©liorer esprit √©quipe", "R√©duire conflits techniques", "Augmenter s√©curit√© op√©rationnelle"], "answer": 0 },
{ "q": "L‚Äôerreur active est g√©n√©ralement :", "choices": ["Une action incorrecte ayant effet imm√©diat", "Une d√©faillance organisationnelle latente", "Un d√©faut conception avion", "Une erreur pilote uniquement"], "answer": 0 },
{ "q": "Une erreur latente correspond √† :", "choices": ["Une faiblesse organisationnelle pr√©sente avant l‚Äô√©v√©nement", "Une faute individuelle imm√©diate", "Un d√©faut m√©canique soudain", "Une panne hydraulique"], "answer": 0 },
{ "q": "La gestion du risque implique :", "choices": ["Identifier, analyser et att√©nuer les dangers", "√âliminer totalement toute erreur humaine", "Supprimer proc√©dures complexes", "Travailler plus rapidement"], "answer": 0 },
{ "q": "Le manque de ressources (outils, personnel) peut :", "choices": ["Augmenter probabilit√© d‚Äôerreur", "R√©duire pression travail", "Am√©liorer coordination", "Supprimer fatigue"], "answer": 0 },
{ "q": "Le travail en √©quipe multiculturelle n√©cessite :", "choices": ["Attention particuli√®re √† la communication", "Uniformit√© linguistique obligatoire", "R√©duction documentation", "Suppression briefings"], "answer": 0 },
{ "q": "Le feedback constructif permet :", "choices": ["Am√©liorer performance et s√©curit√©", "Sanctionner syst√©matiquement", "R√©duire dialogue √©quipe", "Augmenter pression hi√©rarchique"], "answer": 0 },
{ "q": "La gestion de la fatigue inclut :", "choices": ["Repos suffisant et planification adapt√©e", "Augmentation heures suppl√©mentaires", "R√©duction pauses", "Suppression rotation √©quipes"], "answer": 0 },
{ "q": "Un briefing efficace avant t√¢che critique permet :", "choices": ["Aligner compr√©hension et responsabilit√©s", "R√©duire dur√©e intervention uniquement", "√âviter documentation √©crite", "Supprimer inspection ind√©pendante"], "answer": 0 },
{ "q": "La culture ¬´ Just Culture ¬ª encourage :", "choices": ["Le signalement d‚Äôerreurs sans sanction injuste", "La tol√©rance fautes graves r√©p√©t√©es", "L‚Äôabsence de responsabilit√© individuelle", "La suppression audits s√©curit√©"], "answer": 0 },



];




// ====== Scores (stock 30, affichage 10)
function loadScores(){ try{ return JSON.parse(localStorage.getItem(LS_SCORES)||'[]') }catch{ return [] } }
function saveScores(list){ localStorage.setItem(LS_SCORES, JSON.stringify(list.slice(-30))); }
function addScoreRow(entry){
  const pct = entry.total ? Math.round(entry.score/entry.total*1000)/10 : 0;
  const tr=document.createElement('tr');
  tr.innerHTML = `<td>${entry.name||'‚Äî'}</td><td>${entry.score}/${entry.total}</td><td>${pct}%</td><td>${entry.when}</td>`;
  $('#scoreTableBody').appendChild(tr);
}
function renderScoreTable(){
  const body=$('#scoreTableBody'); body.innerHTML='';
  const list=loadScores(); const view=list.slice(-10).reverse(); // 10 derniers, r√©cents en haut
  view.forEach(addScoreRow);
}
$('#clearScores').onclick=()=>{ localStorage.removeItem(LS_SCORES); renderScoreTable(); drawChart(); };

// ====== Graph progression (utilise jusqu‚Äô√† 30 entr√©es)
function drawChart(){
  const svg=$('#chart'); svg.innerHTML='';
  const list=loadScores(); const values=list.map(e=>Math.round(e.score/e.total*100));
  const N=values.length, W=320, H=120, pad=12;
  // axes
  const ax=document.createElementNS('http://www.w3.org/2000/svg','path');
  ax.setAttribute('d',`M${pad},${H-pad}H${W-pad} M${pad},${pad}V${H-pad}`);
  ax.setAttribute('stroke','currentColor'); ax.setAttribute('fill','none'); ax.setAttribute('opacity','0.4');
  svg.appendChild(ax);
  if(!N) return;
  const start=Math.max(0,N-20), arr=values.slice(start);
  const step=(W-2*pad)/Math.max(1,arr.length-1);
  const pts=arr.map((v,k)=>[pad+k*step,(H-pad)-(v/100)*(H-2*pad)]);
  const d=pts.map((p,k)=>(k?'L':'M')+p[0]+','+p[1]).join(' ');
  const path=document.createElementNS('http://www.w3.org/2000/svg','path');
  path.setAttribute('d',d); path.setAttribute('fill','none'); path.setAttribute('stroke','currentColor');
  svg.appendChild(path);
}
renderScoreTable(); drawChart();

// ====== Timer
function clearTick(){ if(tickHandle){ clearInterval(tickHandle); tickHandle=null; } }
function setTimer(v){ timerEl.textContent=v; }
function startTick(){
  clearTick(); timeLeft=perQ; setTimer(timeLeft);
  tickHandle=setInterval(()=>{ if(paused) return; timeLeft--; setTimer(Math.max(0,timeLeft)); if(timeLeft<=0){ clearTick(); onTimeout(); } },1000);
}

// ====== Progress + badge
function renderProgress(){
  const total=filteredQuestions.length;
  progressTxt.textContent=`Question ${Math.min(i+1,total)}/${total}`;
  const pct = total? Math.round(i/total*100) : 0;
  progressBar.style.width = pct+'%';
}
function showBadge(kind){
  const el=$('#prevBadge'); el.className='badge-status';
  if(!kind){ el.style.display='none'; return; }
  el.style.display='inline-block';
  el.textContent = kind==='ok'?'OK':(kind==='bad'?'FAUX':'BOF');
  el.classList.add(kind==='ok'?'badge-ok':(kind==='bad'?'badge-bad':'badge-bof'));
  setTimeout(()=>{ el.style.display='none'; }, 1500);
}

// ====== Rendu question (m√©lange des r√©ponses)
function renderQuestion(){
  const total=filteredQuestions.length;
  if(i>=total){ finishGame(); return; }

  const current=filteredQuestions[questionOrder[i]];
  const shuffled = current.choices.map((text,idx)=>({text,idx})).sort(()=>Math.random()-0.5);
  current.shuffledMap = shuffled.map(o=>o.idx);
  current.shuffledAnswer = shuffled.findIndex(o=>o.idx===current.answer);

  qEl.textContent=current.q;
  renderProgress();
  feedbackEl.textContent='';
  choicesEl.innerHTML='';

  shuffled.forEach((item, idx)=>{
    const b=document.createElement('button');
    b.className='opt'; b.textContent=item.text;
    b.addEventListener('click', ()=> onSelect(idx, b));
    choicesEl.appendChild(b);
  });

  if(running && !paused) startTick();
}
function highlightGood(){
  const cur=filteredQuestions[questionOrder[i]];
  const good = (cur && typeof cur.shuffledAnswer==='number') ? cur.shuffledAnswer : cur.answer;
  document.querySelectorAll('.opt').forEach((b,idx)=>{ b.disabled=true; if(idx===good) b.classList.add('correct'); });
}
function disableAll(){ document.querySelectorAll('.opt').forEach(b=>b.disabled=true); }

// ====== S√©lection / Timeout
function onSelect(idx, btn){
  if(!running || paused) return;
  clearTick();
  const curQ=filteredQuestions[questionOrder[i]];
  const goodShuffled = (typeof curQ.shuffledAnswer==='number') ? curQ.shuffledAnswer : curQ.answer;
  const pickedOriginal = Array.isArray(curQ.shuffledMap) ? curQ.shuffledMap[idx] : idx;

  // log pour le r√©sum√©
  answersLog[i] = {
    index:i, q:curQ.q, choices:curQ.choices.slice(),
    correctIndex:curQ.answer, pickedIndex:pickedOriginal,
    correct:(idx===goodShuffled), timedOut:false
  };
  buildSummary(); // ‚úÖ update live

  if(mode==='TRAIN'){
    highlightGood();
    if(idx===goodShuffled){
      score++; scoreEl.textContent=score;
      feedbackEl.innerHTML = `<span class="ok"><b>Bonne r√©ponse !</b></span>`;
      showBadge('ok');
    }else{
      btn.classList.add('wrong');
      feedbackEl.innerHTML = `<span class="bad"><b>Faux.</b></span>`;
      showBadge('bad');
    }
  }else{
    disableAll(); // examen : pas de correction imm√©diate
  }

  setTimeout(()=>{ i++; renderQuestion(); }, 800);
}
function onTimeout(){
  if(!running) return;
  const curQ=filteredQuestions[questionOrder[i]];
  answersLog[i] = {
    index:i, q:curQ.q, choices:curQ.choices.slice(),
    correctIndex:curQ.answer, pickedIndex:null, correct:false, timedOut:true
  };
  buildSummary(); // ‚úÖ update live
  if(mode==='TRAIN'){
    highlightGood();
    feedbackEl.innerHTML = `<span class="muted"><b>Temps √©coul√©.</b></span>`;
    showBadge('bad');
  }else{
    disableAll();
  }
  setTimeout(()=>{ i++; renderQuestion(); }, 800);
}

// ====== S√©lection des questions
function buildFilteredQuestions(){
  // Utiliser TOUTES les questions disponibles
  const arr = shuffle(QUESTIONS.map((q, idx) => ({ q, idx })));
  filteredQuestions = arr.map(o => o.q);
  questionOrder = shuffle([...filteredQuestions.keys()]);
}


// ====== D√©marrer / Pause / Stop
function resetState(){
  running=false; paused=false; i=0; score=0; answersLog=[];
  scoreEl.textContent='0'; clearTick(); timerEl.textContent='0';
  progressBar.style.width='0%'; progressTxt.textContent='Question 0/0';
  qEl.textContent='Clique sur D√©marrer'; choicesEl.innerHTML=''; feedbackEl.textContent='';
  $('#summaryCard').style.display='block';
  $('#summaryStats').innerHTML = '<span class="muted">En attente‚Ä¶</span>';
  $('#summaryList').innerHTML = '<span class="muted">Aucune r√©ponse pour le moment.</span>';
}
function startGame(fromSnapshot=false){
  mode = 'TRAIN';
  perQ = 60; // 10 secondes fixes par question	
  if(!fromSnapshot) buildFilteredQuestions();
  running=true; paused=false; i=0; score=0; answersLog=[];
  renderQuestion();
  $('#pauseBtn').disabled=false; $('#stopBtn').disabled=false;
  saveSnapshot();
}
$('#startBtn').onclick=()=>{ resetState(); startGame(false); };
$('#pauseBtn').onclick=()=>{
  if(!running) return;
  paused = !paused;
  $('#pauseBtn').textContent = paused? 'Reprendre' : 'Pause';
  if(!paused) startTick();
  saveSnapshot();
};
$('#stopBtn').onclick=()=> finishGame();
$('#summaryCard').style.display = 'block';
$('#showSummaryBtn').style.display = 'none';

// ====== R√©sum√© + enregistrement du score
function recordFinalScore(){
  const name = (pseudoInput.value||'').trim() || 'Anonyme';
  const entry = { name, score, total: filteredQuestions.length, when: nowStamp() };

  // garder l'historique d√©taill√© pour ce QCM
  const list = loadScores();
  list.push(entry);
  saveScores(list);

  // calcul du pourcentage actuel
  const pct = entry.total ? (entry.score / entry.total * 100) : 0;
  const pctTxt = Math.round(pct * 10) / 10; // ex: 82.5
  const currentSimple = `${name} ${pctTxt}%`;

  // --- BEST SCORE POUR LE SOMMAIRE ---
  // Lire l'ancien meilleur s'il existe
  const prevSimple = localStorage.getItem('score_qcm180_v1') || '';
  // Extraire le pourcentage num√©rique de l'ancien (ex "Adrien 82.5%" -> 82.5)
  let prevPct = -1;
  const m = prevSimple.match(/([0-9]+(?:\.[0-9]+)?)%/);
  if (m) {
    prevPct = parseFloat(m[1]);
  }

  // Si pas d'ancien ou si le pourcentage actuel est meilleur -> on remplace
  if (pct > prevPct) {
    localStorage.setItem('score_qcm180_v1', currentSimple);
  }

  // rafra√Æchir affichage interne
  renderScoreTable();
  drawChart();
}

function buildSummary(){
  const total = filteredQuestions.length || 0;

  let ok=0, bad=0, to=0, answered=0;

  const lines = (answersLog || [])
    .filter(r => r) // uniquement les questions d√©j√† logg√©es
    .map((r, idx)=> {
      answered++;

      const corr = r.choices[r.correctIndex];
      const user = r.pickedIndex===null ? '(aucune/temps)' : r.choices[r.pickedIndex];

      if(r.correct) ok++; else if(r.timedOut) to++; else bad++;

      const cls = r.correct ? 'ok' : 'bad';
      return `<div class="${cls}">
        Q${r.index+1}. ${r.q}
        <div class="small">Ta r√©ponse: <b>${user}</b> ‚Äî Corr: <b>${corr}</b></div>
      </div>`;
    }).join('');

  $('#summaryStats').innerHTML =
    `Score: <b>${score}</b> / ${total}
     &nbsp; | &nbsp; R√©pondu: <b>${answered}</b> / ${total}
     &nbsp; | &nbsp; OK: <span class="ok">${ok}</span>
     ‚Äì Faux: <span class="bad">${bad}</span>
     ‚Äì Temps: <span class="bad">${to}</span>`;

  $('#summaryList').innerHTML = lines || '<span class="muted">Aucune r√©ponse pour le moment.</span>';
}

function finishGame(){
  if(!running) return;
  clearTick(); running=false; paused=false;
  $('#pauseBtn').disabled=true; $('#stopBtn').disabled=true;

  if(mode==='EXAM'){
    score = answersLog.reduce((acc,r)=> acc + (r.correct?1:0), 0);
    scoreEl.textContent=score;
  }
  buildSummary();
  $('#summaryCard').style.display='block';
  recordFinalScore();
  localStorage.removeItem(LS_SNAPSHOT);
}
$('#printSummary').onclick=()=>window.print();
$('#closeSummary').onclick = () => {
  $('#summaryCard').style.display = 'none';
  $('#showSummaryBtn').style.display = 'inline-block';
};
$('#showSummaryBtn').onclick = () => {
  $('#summaryCard').style.display = 'block';
  $('#showSummaryBtn').style.display = 'none';
};
$('#summaryCard').style.display = 'block';
$('#showSummaryBtn').style.display = 'none';


// ====== Snapshot (reprendre une partie)
function saveSnapshot(){
  if(!running) return;
  const snap={ t:Date.now(), mode, perQ, i, score, filteredQuestions, questionOrder, answersLog };
  localStorage.setItem(LS_SNAPSHOT, JSON.stringify(snap));
}
function loadSnapshot(){ try{ return JSON.parse(localStorage.getItem(LS_SNAPSHOT)||'null') }catch{ return null } }
function applySnapshot(s){ mode=s.mode; perQ=s.perQ; i=s.i; score=s.score; filteredQuestions=s.filteredQuestions; questionOrder=s.questionOrder; answersLog=s.answersLog||[]; $('#mode').value=mode; $('#qSeconds').value=perQ; scoreEl.textContent=score; renderQuestion(); }
(function maybeShowResume(){
  const s=loadSnapshot(); if(!s) return;
  const btn=$('#resumeBtn'); btn.style.display='inline-block';
  btn.onclick=()=>{ btn.style.display='none'; running=true; paused=false; applySnapshot(s); $('#pauseBtn').disabled=false; $('#stopBtn').disabled=false; startTick(); };
})();

// ====== Wire + boot



(function boot(){ progressTxt.textContent='Question 0/0'; timerEl.textContent='0'; renderScoreTable(); drawChart(); })();
</script>

</body>
</html>


